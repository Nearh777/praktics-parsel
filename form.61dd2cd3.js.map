{"mappings":"IA0BAA,EAAe,C,KA1BF,CAACC,EAAKC,KACf,IACI,MAAMC,EAAkBC,KAAKC,UAAUH,GACvCI,aAAaC,QAAQN,EAAKE,E,CAC5B,MAAOK,GACLC,QAAQD,MAAM,oBAAqBA,EAAME,Q,QAIpCT,IACT,IACI,MAAME,EAAkBG,aAAaK,QAAQV,GAC7C,OAA2B,OAApBE,OAA2BS,EAAYR,KAAKS,MAAMV,E,CAC3D,MAAOK,GACLC,QAAQD,MAAM,oBAAqBA,EAAME,Q,UAIlCT,IACX,IACI,OAAOK,aAAaQ,WAAWb,E,CACjC,MAAOO,GACLC,QAAQD,MAAM,oBAAqBA,EAAME,Q,ICpBjD,MAAMK,EAAOC,SAASC,cAAc,qBAWpC,WACE,MAAMC,EAAYlB,EAAWmB,KAXX,iBAYdD,GACFE,OAAOC,QAAQH,GAAWI,SAAQ,EAAEC,EAAMrB,MACxCa,EAAKS,SAASD,GAAMrB,MAAQA,CAAK,G,CAbvCuB,GACAV,EAAKW,iBAAiB,SAEtB,SAAsBC,GACpB,MAAMT,EAAYlB,EAAWmB,KALX,kBAKgC,GAClDD,EAAUS,EAAEC,OAAOL,MAAQI,EAAEC,OAAO1B,MACpCF,EAAW6B,KAPO,gBAOWX,E,IAsB/BH,EAAKW,iBAAiB,UAVtB,SAAyBC,GACvBA,EAAEG,iBACF,MAAMC,EAAW,GACA,IAAIC,SAASjB,GACrBO,SAAQ,CAACpB,EAAOqB,IAASQ,EAASR,GAAQrB,IACnDO,QAAQwB,IAAIF,GACZ/B,EAAWkC,OAzBO,iBA0BlBP,EAAEC,OAAOO,O","sources":["src/js/storage.js","src/js/form.js"],"sourcesContent":["const save = (key, value) => {\n    try {\n        const serializedState = JSON.stringify(value);\n        localStorage.setItem(key, serializedState);\n    } catch (error) {\n        console.error(\"Set state error: \", error.message);\n    }\n};\n\nconst load = key => {\n    try {\n        const serializedState = localStorage.getItem(key);\n        return serializedState === null ? undefined : JSON.parse(serializedState);\n    } catch (error) {\n        console.error(\"Get state error: \", error.message);\n    }\n};\n\nconst remove = key => {\n    try {\n        return localStorage.removeItem(key);\n    } catch (error) {\n        console.error(\"Get state error: \", error.message);\n    }\n}\n\nexport default {\n    save,\n    load,\n    remove,\n};","import storageApi from './storage.js';\n\nconst form = document.querySelector('.js-contact-form');\nconst STORAGE_KEY = 'user-data-key';\ninitPage();\nform.addEventListener('input', handlerInput);\n\nfunction handlerInput(e) {\n  const savedData = storageApi.load(STORAGE_KEY) || {};\n  savedData[e.target.name] = e.target.value;\n  storageApi.save(STORAGE_KEY, savedData)\n}\n\nfunction initPage() {\n  const savedData = storageApi.load(STORAGE_KEY);\n  if (savedData) {\n    Object.entries(savedData).forEach(([name, value]) => {\n      form.elements[name].value = value;\n    });\n  }\n}\n\nfunction handlerSaveData(e) {\n  e.preventDefault();\n  const userData = {};\n  const formData = new FormData(form);\n  formData.forEach((value, name) => userData[name] = value);\n  console.log(userData);\n  storageApi.remove(STORAGE_KEY);\n  e.target.reset();\n}\n\nform.addEventListener('submit', handlerSaveData);"],"names":["$3fff5e8daf4b13a6$export$2e2bcd8739ae039","key","value","serializedState","JSON","stringify","localStorage","setItem","error","console","message","getItem","undefined","parse","removeItem","$86f33108e3380025$var$form","document","querySelector","savedData","load","Object","entries","forEach","name","elements","$86f33108e3380025$var$initPage","addEventListener","e","target","save","preventDefault","userData","FormData","log","remove","reset"],"version":3,"file":"form.61dd2cd3.js.map"}